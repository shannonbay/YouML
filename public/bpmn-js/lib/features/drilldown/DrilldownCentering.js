import{is}from"../../util/ModelUtil";export default function DrilldownCentering(e,i){var t=null,n=new Map;e.on("root.set",(function(e){var r=e.element,s=i.viewbox(),o=n.get(r);if(n.set(t,{x:s.x,y:s.y,zoom:s.scale}),t=r,is(r,"bpmn:SubProcess")||o){o=o||{x:0,y:0,zoom:1};var l=(s.x-o.x)*s.scale,a=(s.y-o.y)*s.scale;0===l&&0===a||i.scroll({dx:l,dy:a}),o.zoom!==s.scale&&i.zoom(o.zoom,{x:0,y:0})}})),e.on("diagram.clear",(function(){n.clear(),t=null}))}function Map(){this._entries=[],this.set=function(e,i){var t=!1;for(var n in this._entries)if(this._entries[n][0]===e){this._entries[n][1]=i,t=!0;break}t||this._entries.push([e,i])},this.get=function(e){for(var i in this._entries)if(this._entries[i][0]===e)return this._entries[i][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(e){var i=-1;for(var t in this._entries)if(this._entries[t][0]===e){i=t;break}-1!==i&&this._entries.splice(i,1)}}DrilldownCentering.$inject=["eventBus","canvas"];