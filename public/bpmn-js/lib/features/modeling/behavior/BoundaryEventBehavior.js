import inherits from"inherits-browser";import CommandInterceptor from"diagram-js/lib/command/CommandInterceptor";import{is}from"../../../util/ModelUtil";import{filter,forEach}from"min-dash";export default function BoundaryEventBehavior(e,t){function n(e){return filter(e.attachers,(function(e){return is(e,"bpmn:BoundaryEvent")}))}CommandInterceptor.call(this,e),this.postExecute("connection.create",(function(e){var o=e.context.source,r=e.context.target,i=n(r);is(o,"bpmn:EventBasedGateway")&&is(r,"bpmn:ReceiveTask")&&i.length>0&&t.removeElements(i)})),this.postExecute("connection.reconnect",(function(e){var o=e.context.oldSource,r=e.context.newSource;is(o,"bpmn:Gateway")&&is(r,"bpmn:EventBasedGateway")&&forEach(r.outgoing,(function(e){var o=e.target,r=n(o);is(o,"bpmn:ReceiveTask")&&r.length>0&&t.removeElements(r)}))}))}BoundaryEventBehavior.$inject=["eventBus","modeling"],inherits(BoundaryEventBehavior,CommandInterceptor);