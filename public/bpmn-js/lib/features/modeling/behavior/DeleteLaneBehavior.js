import inherits from"inherits-browser";import CommandInterceptor from"diagram-js/lib/command/CommandInterceptor";import{is}from"../../../util/ModelUtil";import{getChildLanes}from"../util/LaneUtil";import{isHorizontal}from"../../../util/DiUtil";import{eachElement}from"diagram-js/lib/util/Elements";var LOW_PRIORITY=500;export default function DeleteLaneBehavior(e,t){CommandInterceptor.call(this,e),this.postExecuted("shape.delete",LOW_PRIORITY,(function(e){var n=e.context,i=n.hints,a=n.shape,s=n.oldParent;is(a,"bpmn:Lane")&&(i&&i.nested||function(e,n){var i,a,s,h,l,o=isHorizontal(e),r=getChildLanes(n),m=[],p=[],c=[],g=[];eachElement(r,(function(t){return o?t.y>e.y?p.push(t):m.push(t):t.x>e.x?g.push(t):c.push(t),t.children})),r.length&&(i=o?p.length&&m.length?e.height/2:e.height:g.length&&c.length?e.width/2:e.width,m.length&&(a=t.calculateAdjustments(m,"y",i,e.y-10),t.makeSpace(a.movingShapes,a.resizingShapes,{x:0,y:i},"s")),p.length&&(s=t.calculateAdjustments(p,"y",-i,e.y+e.height+10),t.makeSpace(s.movingShapes,s.resizingShapes,{x:0,y:-i},"n")),c.length&&(h=t.calculateAdjustments(c,"x",i,e.x-10),t.makeSpace(h.movingShapes,h.resizingShapes,{x:i,y:0},"e")),g.length&&(l=t.calculateAdjustments(g,"x",-i,e.x+e.width+10),t.makeSpace(l.movingShapes,l.resizingShapes,{x:-i,y:0},"w")))}(a,s))}))}DeleteLaneBehavior.$inject=["eventBus","spaceTool"],inherits(DeleteLaneBehavior,CommandInterceptor);