import{getMid}from"diagram-js/lib/layout/LayoutUtil";import lineIntersect from"./util/LineIntersect";export default function ImportDockingFix(t){function e(t,e,n){var i,o={x:n.x,y:n.y-50},r={x:n.x-50,y:n.y},a=lineIntersect(t,e,n,o),c=lineIntersect(t,e,n,r);i=a&&c?getDistance(a,n)>getDistance(c,n)?c:a:a||c,t.original=i}t.on("bpmnElement.added",(function(t){var n,i,o=t.element;o.waypoints&&(e((i=(n=o).waypoints)[0],i[1],getMid(n.source)),e(i[i.length-1],i[i.length-2],getMid(n.target)))}))}function getDistance(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}ImportDockingFix.$inject=["eventBus"];