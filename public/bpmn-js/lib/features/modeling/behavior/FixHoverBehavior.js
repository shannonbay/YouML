import{getLanesRoot}from"../util/LaneUtil";import{is,isAny}from"../../../util/ModelUtil";var HIGH_PRIORITY=1500,HIGHEST_PRIORITY=2e3;export default function FixHoverBehavior(e,o,n){o.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],HIGH_PRIORITY,(function(o){var t=o.context.shape||o.shape,a=o.hover;is(a,"bpmn:Lane")&&!isAny(t,["bpmn:Lane","bpmn:Participant"])&&(o.hover=getLanesRoot(a),o.hoverGfx=e.getGraphics(o.hover));var r=n.getRootElement();a!==r&&(t.labelTarget||isAny(t,["bpmn:Group","bpmn:TextAnnotation"]))&&(o.hover=r,o.hoverGfx=e.getGraphics(o.hover))})),o.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],HIGH_PRIORITY,(function(o){var n=o.hover;is(n,"bpmn:Lane")&&(o.hover=getLanesRoot(n)||n,o.hoverGfx=e.getGraphics(o.hover))})),o.on(["bendpoint.move.hover"],HIGH_PRIORITY,(function(o){var n=o.context,t=o.hover,a=n.type;is(t,"bpmn:Lane")&&/reconnect/.test(a)&&(o.hover=getLanesRoot(t)||t,o.hoverGfx=e.getGraphics(o.hover))})),o.on(["connect.start"],HIGH_PRIORITY,(function(e){var o=e.context,n=o.start;is(n,"bpmn:Lane")&&(o.start=getLanesRoot(n)||n)})),o.on("shape.move.start",HIGHEST_PRIORITY,(function(e){var o=e.shape;is(o,"bpmn:Lane")&&(e.shape=getLanesRoot(o)||o)})),o.on("spaceTool.move",HIGHEST_PRIORITY,(function(e){var o=e.hover;o&&is(o,"bpmn:Lane")&&(e.hover=getLanesRoot(o))}))}FixHoverBehavior.$inject=["elementRegistry","eventBus","canvas"];