import{assign}from"min-dash";import TextUtil from"diagram-js/lib/util/Text";var DEFAULT_FONT_SIZE=12,LINE_HEIGHT_RATIO=1.2,MIN_TEXT_ANNOTATION_HEIGHT=30;export default function TextRenderer(t){var e=assign({fontFamily:"Arial, sans-serif",fontSize:DEFAULT_FONT_SIZE,fontWeight:"normal",lineHeight:LINE_HEIGHT_RATIO},t&&t.defaultStyle||{}),i=parseInt(e.fontSize,10)-1,n=assign({},e,{fontSize:i},t&&t.externalStyle||{}),r=new TextUtil({style:e});this.getExternalLabelBounds=function(t,e){var i=r.getDimensions(e,{box:{width:90,height:30},style:n});return{x:Math.round(t.x+t.width/2-i.width/2),y:Math.round(t.y),width:Math.ceil(i.width),height:Math.ceil(i.height)}},this.getTextAnnotationBounds=function(t,i){var n=r.getDimensions(i,{box:t,style:e,align:"left-top",padding:5});return{x:t.x,y:t.y,width:t.width,height:Math.max(MIN_TEXT_ANNOTATION_HEIGHT,Math.round(n.height))}},this.createText=function(t,e){return r.createText(t,e||{})},this.getDefaultStyle=function(){return e},this.getExternalStyle=function(){return n}}TextRenderer.$inject=["config.textRenderer"];